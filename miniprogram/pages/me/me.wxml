<!--pages/me/me.wxml-->
<view class="flex-col page">
  <view class="flex-col self-stretch">
    <view class="flex-col section">
      <!-- 用户信息显示区域 -->
      <view class="flex-row justify-between items-center group">
        <view class="flex-row items-center">
          <!-- 头像区域，点击可修改 -->
          <view class="avatar-container" bindtap="changeAvatar">
            <image
              class="shrink-0 avatar-circle"
              src="{{userAvatar}}"
              mode="aspectFill"
            />
            <view class="avatar-edit-hint">
              <text class="edit-text">修改</text>
            </view>
          </view>
          <view class="flex-col items-start ml-17">
            <!-- 未设置个人信息时显示 -->
            <view wx:if="{{!hasUserInfo}}" bindtap="goToProfilePage">
              <text class="font text">点击设置个人信息</text>
            </view>
            <!-- 已设置个人信息时显示昵称，点击可修改 -->
            <view wx:else bindtap="goToProfilePage">
              <text class="font text">{{userNickname}}</text>
              <text class="edit-hint">点击修改</text>
            </view>
            <text class="mt-8 font_2 text_3">坚持静坐第 {{currentStreak}} 天</text>
          </view>
        </view>
      </view>
      <view class="flex-row justify-between group_2">
        <view class="flex-row self-center">
          <view class="flex-col items-center group_3">
            <text class="font_3 text_4">{{totalMinutes}}</text>
            <text class="mt-14 font_4">当月总分钟</text>
          </view>
          <view class="flex-col items-center group_3">
            <text class="font_3">{{consecutiveDays}}</text>
            <text class="mt-14 font_4">最长连续天数</text>
          </view>
        </view>
        <view class="flex-col items-center self-start group_4">
          <text class="font_3 text_5">{{medals}}</text>
          <text class="mt-14 font_4 text_6">勋章</text>
        </view>
      </view>
    </view>
    <view class="mt-16 flex-col section_2">
      <view class="flex-col">
        <view class="flex-row justify-between items-center group_5">
          <view class="flex-row items-center">
            <image
              class="shrink-0 image"
            />
            <text class="font_2 text_7 ml-17">打卡记录</text>
          </view>
          <image
            class="image_3"
          />
        </view>
        <view class="flex-row justify-between items-center group_5" bindtap="goToBadgePage">
          <view class="flex-row items-center">
            <image
              class="shrink-0 image"
            />
            <text class="font_2 ml-17">我的勋章</text>
          </view>
          <image
            class="image_3"
          />
        </view>
      </view>
      <view class="mt-16 flex-row justify-between items-center group_6">
        <view class="flex-row items-center">
          <image
            class="shrink-0 image"
          />
          <text class="font_2 ml-17">收藏的引导语</text>
        </view>
        <image
          class="image_3"
        />
      </view>
    </view>
    <view class="mt-16 flex-col section_3">
      <view class="flex-row justify-between items-center group_5">
        <view class="flex-row items-center">
          <image
            class="shrink-0 image"
          />
          <text class="ml-16 font_2 text_8">个人资料</text>
        </view>
        <image
          class="image_3"
        />
      </view>
      <view class="flex-row justify-between items-center group_7">
        <view class="flex-row items-center">
          <image
            class="shrink-0 image"
          />
          <text class="font_2 text_9 ml-17">版本 V1.2</text>
        </view>
        <image
          class="image_3"
        />
      </view>
    </view>
  </view>
  <text class="mt-20 self-center font_4 text_10">Designed by GenXin</text>
</view>